{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.17072fd0b48f8d6cb204.hot-update.js","sources":["webpack:///./components/verify.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Form, FormGroup, Label, Input, FormText, InputGroup, Col} from 'reactstrap';\r\nimport web3 from '../Ethereum/web3';\r\nimport certificate from '../Ethereum/Contracts/certificateInstance';\r\nimport hash from 'object-hash';\r\nimport Link from 'next/link';\r\n\r\nvar h = '';\r\nlet tx;\r\n\r\nclass VerifyCert extends Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tsetJson(e){\r\n\t\tvar json = e.target.files;\r\n\t\tvar reader = new FileReader();\r\n\t\treader.readAsDataURL(json[0]);\r\n\t\treader.onload = (e) => {\r\n\t\t\tvar tx = JSON.parse(atob(e.target.result.substring(29)));\t\t\t\r\n\t\t\th = tx.txHash;\r\n\t\t\tdelete tx.txHash ;\r\n\t\t\tconsole.log(typeof tx);\r\n\t\t};\r\n\t}\r\n\r\n\tasync verify(){\r\n\t\tconsole.log(typeof tx);\r\n\t\tvar hashedCert = hash(tx);\r\n\t\tvar transaction = await web3.eth.getTransaction(h);\r\n\t\tvar functionSignature = web3.eth.abi.encodeFunctionSignature('upload(string)');\r\n\t\tvar input2 = web3.eth.abi.decodeParameter('string', transaction.input.replace(functionSignature, ''));\r\n\t\tconsole.log(hashedCert == input2);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\"/>\r\n\t\t\t\r\n\t\t\t<Input type=\"file\" onChange={(e) => this.setJson(e)} >Upload JSON file for verification</Input> <br/>\r\n\t\t\t<Button color=\"success\" onClick={() => this.verify()}>Verify</Button> <br />\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default VerifyCert;\r\n\r\n\r\n// <Button onClick={() => this.verify()}> Verify Certificate </Button>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAGA;AACA;;AACA;AACA;;AADA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AArCA;AACA;AAuCA;;;;A","sourceRoot":""}