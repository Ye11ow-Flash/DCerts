{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.d4f868887a98433585f4.hot-update.js","sources":["webpack:///./components/verify.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Form, FormGroup, Label, Input, FormText, InputGroup, Col, Row, Container} from 'reactstrap';\r\nimport web3 from '../Ethereum/web3';\r\nimport certificate from '../Ethereum/Contracts/certificateInstance';\r\nimport hash from 'object-hash';\r\nimport Link from 'next/link';\r\n\r\nvar h = '';\r\nlet tx;\r\n\r\nclass VerifyCert extends Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tsetJson(e){\r\n\t\tvar json = e.target.files;\r\n\t\tvar reader = new FileReader();\r\n\t\t reader.readAsDataURL(json[0]);\r\n\t\t reader.addEventListener('load', function(){\r\n\t\t\ttx = JSON.parse(atob(reader.result.substring(29)));\t\t\t\r\n\t\t\th = tx.txHash;\r\n\t\t\tdelete tx.txHash ;\r\n\t\t\tconsole.log(typeof tx);\r\n\t\t});\r\n\t}\r\n\r\n\tasync verify(){\r\n\t\tconsole.log(typeof tx);\r\n\t\tvar hashedCert = hash(tx);\r\n\t\tvar transaction = await web3.eth.getTransaction(h);\r\n\t\tvar functionSignature = web3.eth.abi.encodeFunctionSignature('upload(string)');\r\n\t\tvar input2 = web3.eth.abi.decodeParameter('string', transaction.input.replace(functionSignature, ''));\r\n\t\tconsole.log(hashedCert == input2);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\"/>\r\n\t\t\t\r\n\t\t\t<Input type=\"file\" onChange={(e) => this.setJson(e)} >Upload JSON file for verification</Input> <br/>\r\n\t\t\t<Button color=\"success\" onClick={() => this.verify()}>Verify</Button> <br />\r\n\r\n\t\t\t<Container padding = {10} className = \"block-example border border-dark\">\r\n\t\t\t<Form>\r\n\r\n\t\t\t\t\t<FormGroup row >\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t<Col  sm = {{size:1, offset:2}}>\r\n\t\t\t\t\t\t<Input  type=\"text\" placeholder=\"logo\" \r\n\t\t\t      \t\t /><br />\r\n\t\t\t\t\t</Col>\r\n\t\t\t      \t<Col  sm = {{size:'auto', offset:0}}>\r\n\t\t\t      \t<Label\r\n\t\t\t      \t/><br />\r\n\t\t\t      \t</Col>\t\r\n\t\t\t      \t</Row>\r\n\t\t\t      \t</FormGroup>\r\n\r\n\r\n\t\t\t      \t<FormGroup >\r\n\t\t\t      \t<Row>\r\n\t\t\t      \t<Col sm = {{offset:4}}>\r\n\t\t\t      \t<h2>Certificate Of Recognition</h2>\r\n\t\t\t      \t</Col>\r\n\t\t\t      \t</Row>\r\n\t\t\t      \t\r\n\t\t\t      \t</FormGroup>\r\n\r\n\t\t\t      \t<FormGroup>\r\n\t\t\t      \t<Row>\r\n\t\t\t      \t<Col  sm = {{size:'auto', offset:3}}>\r\n\t\t\t      \t<Label \r\n\t\t\t      \t/><br />\r\n\t\t\t      \t</Col>\r\n\t\t\t      \t<Col  sm = {{size:'auto', offset:1}} >\r\n\t\t\t      \t<Input type=\"text\" placeholder=\"last name\" \r\n\t\t\t      \t/><br />\r\n\t\t\t      \t</Col>\r\n\t\t\t      \t</Row>\r\n\t\t\t      \t</FormGroup>\r\n\r\n\t\t\t      \t<FormGroup>\r\n\t\t\t      \t<Row>\r\n\t\t\t      \t<Col sm = {{size:5, order:5, offset:3}}> \r\n\t\t\t      \t<Label \r\n\t\t\t      \t/><br />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t<Col  sm = {{size:'auto', offset:2}}>\t\t      \r\n\t\t\t      \t<Label\r\n\t\t\t      \t/><br />\r\n\t\t\t      \t</Col>\r\n\t\t\t      \t<Col  sm = {{size:'auto', offset:3}}>\t\r\n\t\t\t      \t<Label \r\n\t\t\t      \t/><br />\r\n\t\t\t      \t</Col>\r\n\t\t\t      \t</Row>\r\n\t\t\t      \t</FormGroup>\r\n\r\n\t\t\t      \t<FormGroup>\r\n\t\t\t      \t<Row>\r\n\t\t\t      \t<Col md = {{size:6, offset:5}}>\r\n\t\t\t      \t<Button size = \"lg\" color=\"primary\" onClick={() => this.signAndSend()}>Submit</Button> <br />\r\n\t\t\t      \t</Col>\r\n\t\t\t      \t</Row>\r\n\t\t\t      \t</FormGroup>\r\n\t\t\t      \r\n\r\n\t\t\t      \t</Form>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default VerifyCert;\r\n\r\n\r\n// <Button onClick={() => this.verify()}> Verify Certificate </Button>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAGA;AACA;;AACA;AACA;;AADA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;;;AArHA;AACA;AAuHA;;;;A","sourceRoot":""}